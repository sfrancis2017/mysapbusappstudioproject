name: <%- project.prefix %>-srv
type: java
path: srv
parameters:
  buildpack: sap_java_buildpack_jakarta
  readiness-health-check-type: http
  readiness-health-check-http-endpoint: /actuator/health/readiness
properties:
  SPRING_PROFILES_ACTIVE: cloud,sandbox
  JBP_CONFIG_COMPONENTS: "jres: ['com.sap.xs.java.buildpack.jre.SAPMachineJRE']"
  JBP_CONFIG_SAP_MACHINE_JRE: '{ version: 21.+ }'
provides:
  - name: srv-api
    properties:
      srv-url: <%- url %>
build-parameters:
  builder: custom
  commands:
    - mvn clean package -DskipTests=true --batch-mode
  build-result: target/*-exec.jar